(function(e){function t(t){for(var o,r,i=t[0],s=t[1],c=t[2],u=0,p=[];u<i.length;u++)r=i[u],l[r]&&p.push(l[r][0]),l[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,i=1;i<n.length;i++){var s=n[i];0!==l[s]&&(o=!1)}o&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},l={app:0},a=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/interactive-syntax-tree/dist/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"3e8b":function(e,t,n){"use strict";var o=n("d3b9"),l=n.n(o);l.a},"495e":function(e,t,n){"use strict";var o=n("7db0"),l=n.n(o);l.a},5022:function(e,t,n){},5459:function(e,t,n){},"55ab":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var o=n("2b0e"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],r=n("2877"),i={},s=Object(r["a"])(i,l,a,!1,null,null,null);s.options.__file="App.vue";var c=s.exports,d=n("8c4f"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("interactive-syntax-tree")],1)},p=[],f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",[n("el-main",[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{xs:12,md:14,lg:16,xl:18}},[n("d3-tree",{ref:"tree",attrs:{height:e.height,width:"100%"},on:{onClick:e.onClick,showSetting:e.showSetting}}),e.debug?n("sentence-tree",{ref:"sentence",attrs:{height:"30vh",width:"100%"},on:{mouseover:e.mouseover,mouseout:e.mouseout}}):e._e()],1),n("el-col",{attrs:{xs:12,md:10,lg:8,xl:6}},[n("control-panel",{ref:"control",attrs:{"selected-node":e.selectedNode},on:{toggleDebug:e.toggleDebug,changeIntent:e.changeIntent,appendIntent:e.appendIntent,unclick:e.unclick,createNode:e.createNode,upload:e.upload,uploadSentence:e.uploadSentence,download:e.download,copyTree:e.copyTree,deleteNode:e.deleteNode}})],1)],1)],1)],1)},h=[],m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{id:"d3-tree-overlay",width:e.width,height:e.height}},[n("defs",[n("marker",{attrs:{id:"arrow",markerUnits:"strokeWidth",markerWidth:"5",markerHeight:"5",viewBox:"0 -5 10 10",refX:"16",refY:"0",orient:"auto"}},[n("path",{staticStyle:{fill:"#000"},attrs:{d:"M0,-5 L10,0 L0,5"}})])])])},g=[],v=n("5698"),b={index:0,baseSvg:void 0,svgGroup:void 0,route:[],root:{type:"root",children:[{type:"holder"}]},duration:750,panBoundary:50};const y=v["o"]().scaleExtent([.5,4]).on("zoom",()=>{b.svgGroup.attr("transform",v["d"].transform)});var N=y,_=n("1157"),x=n.n(_),w=function(e){b.baseSvg.transition().duration(b.duration).call(N.translateTo,e.y0,e.x0).transition().call(N.scaleTo,2)},$=function(e){e._children&&(e.children=e._children,delete e._children)};const k=v["g"]().x(function(e){return e.y}).y(function(e){return e.x});var C=k;let S,T,I,j;function O(e,t){const n=b.svgGroup;T=e,v["l"](t).classed("activeDrag",!0).select(".ghostCircle").attr("pointer-events","none"),v["m"](".ghostCircle").attr("class","ghostCircle show"),n.selectAll("g.node").sort(function(e){return e.id!==T.id?1:-1});const o=T.descendants();if(o.length>1){const e=T.links();n.selectAll("path.link").data(e,function(e){return e.target.id}).remove(),n.selectAll("g.node").data(o.slice(1),function(e){return e.id}).remove()}n.selectAll("path.link").filter(function(e){return e.target.id===T.id}).remove(),S=void 0}function E(){let e=[];void 0!==T&&void 0!==I&&(e=[{source:{x:I.x0,y:I.y0},target:{x:T.x0,y:T.y0}}]);const t=b.svgGroup.selectAll(".tempLink").data(e);t.enter().append("path").attr("class","tempLink").attr("d",C).attr("pointer-events","none"),t.attr("d",C),t.exit().remove()}function D(e,t){clearTimeout(j);let n=0,o=0;switch(e){case"left":n=+t;break;case"right":n=-t;break;case"up":o=+t;break;case"down":o=-t;break;default:break}b.baseSvg.transition().duration(50).call(N.translateBy,n,o),j=setTimeout(function(){D(e,t)},50)}function L(e){I=void 0,v["m"](".ghostCircle").attr("class","ghostCircle"),v["l"](e).classed("activeDrag",!1).select(".ghostCircle").attr("pointer-events",""),E(),void 0!==T&&(G(T.parent),w(T),T=void 0)}function A(e){I=e,E()}function M(){I=void 0,E()}const W=v["c"]().on("start",function(){S=!0,v["d"].sourceEvent.stopPropagation()}).on("drag",function(e){const t=b.panBoundary;S&&O(e,this);const n=v["k"](x()("#d3-tree-overlay").get(0));let o,l;n[0]<t?(o="left",l=t-n[0]):n[0]>x()("#d3-tree-overlay").width()-t?(o="right",l=n[0]-x()("#d3-tree-overlay").width()+t):n[1]<t?(o="up",l=t-n[1]):n[1]>x()("#d3-tree-overlay").height()-t?(o="down",l=n[1]-x()("#d3-tree-overlay").height()+t):clearTimeout(j),void 0!==o&&(l=v["j"]([1e3,l]),D(o,l/10)),e.x0+=v["d"].dy,e.y0+=v["d"].dx;const a=v["l"](this);a.attr("transform",`translate(${e.y0}, ${e.x0})`),E()}).on("end",function(){const e=b.root;if(void 0!==T){if(I){const t=T.parent.children.indexOf(T);t>-1&&(T.parent.children.splice(t,1),T.parent.children.length||delete T.parent.children),$(I),I.children?I.children.push(T):I.children=[T],T.parent=I,e.sort(function(e,t){const n=e.x0-e.parent.x0,o=Math.abs(e.y0-e.parent.y0),l=t.x0-t.parent.x0,a=Math.abs(t.y0-t.parent.y0);return n/o-l/a})}clearTimeout(j),L(this)}});var P=W,z=function(e){v["d"].defaultPrevented||(e.children||e._children)&&(e.children?(e._children=e.children,delete e.children):(e.children=e._children,delete e._children),G(e),w(e))};function F(e,t){e.depth=t;const n=e.children||e._children;return n&&n.length?e.height=1+v["i"](n.map(function(e){return F(e,t+1)})):e.height=0,e.height}var G=function(e){let t=b.root;F(t,0);const n=b.svgGroup,o=b.duration,l=t.descendants(),a=t.links(),r=[];l.forEach(function(e){r.push((e.data.name||e.data.type).length)});const i=v["i"](r),s=v["n"]().nodeSize([25,8*i]);t=s(t),n.selectAll("g.node .selectCircle").remove();const c=n.selectAll("g.node").data(l,function(e){return e.id||(e.id=++b.index)}),d=c.enter().append("g").call(P).attr("transform",function(){return`translate(${e.y0}, ${e.x0})`}).on("click",B).on("dblclick",z);d.append("circle").attr("r",0),d.append("text").style("fill-opacity",0),d.filter(function(e){return"content"!==e.data.type&&"root"!==e.data.type}).append("circle").attr("class","ghostCircle").attr("r",40).attr("pointer-events","mouseover").on("mouseover",A).on("mouseout",M);let u=d.merge(c).attr("class",function(e){return`node ${e.data.type}${e._children?" collapsed":""}`});u.filter(function(e){return e===U.selectedNode}).append("circle").attr("class","selectCircle").attr("r",.75),u.filter(function(e){return e.data.type in{root:1,holder:2,intent:3}}).on(".drag",null),u.select("text").text(function(e){return e.data.name||e.data.intent||e.data.type}).attr("x",function(e){return e.children||e._children?-8:8}).attr("dy",function(e){return e.children||e._children?-3.5:8.5}).attr("class",function(e){return e.children||e._children?"internal":"leaf"}),u=u.transition().duration(o).attr("transform",function(e){return`translate(${e.y}, ${e.x})`}),u.select("circle").attr("r",5),u.select("text").style("fill-opacity",1);const p=c.exit().transition().duration(o).attr("transform",function(){return`translate(${e.y}, ${e.x})`}).remove();p.select("circle").attr("r",0),p.select("text").style("fill-opacity",0),n.selectAll("path.tipLink").remove();const f=n.selectAll("path.tipLink").data(b.route,0),h=f.enter().insert("path","g").attr("class","tipLink").attr("d","M0,0A0,0 0 0,1 0,0");if(h.merge(f).attr("d",v["f"]().x(function(e){return e[1]}).y(function(e){return e[0]}).curve(v["b"])).attr("marker-mid","url(#arrow)").attr("marker-end","url(#arrow)"),h.node()){const e=h.node().getTotalLength();h.style("stroke-dasharray",e).style("stroke-dashoffset",e).style("animation",`dash ${e/200}s infinite`);const t=`@keyframes dash {\n      0% {\n        stroke-dashoffset: ${e};\n      }\n      100% {\n        stroke-dashoffset: 0;\n      }\n    }`,n=document.createElement("style");n.type="text/css",n.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(n)}const m=n.selectAll("path.link").data(a,function(e){return e.target.id}),g=m.enter().insert("path","g").attr("class","link").attr("d",function(){const t={x:e.x0,y:e.y0};return C({source:t,target:t})});g.merge(m).transition().duration(o).attr("d",C),m.exit().transition().duration(o).attr("d",function(){const t={x:e.x,y:e.y};return C({source:t,target:t})}).remove(),l.forEach(function(e){e.x0=e.x,e.y0=e.y})};const V=[];function H(e){V.push(e)}const U={_selectedNode:void 0,get selectedNode(){return this._selectedNode},set selectedNode(e){this._selectedNode=e,V.forEach(function(t){t(e)}),void 0!==e&&(G(e),w(e))}};function J(){const e=U.selectedNode;U.selectedNode=void 0,G(e),w(e)}var B=function(e){v["d"]&&v["d"].defaultPrevented||(U.selectedNode=e)};function R(e){const t={};Object.assign(t,e.data);for(const o in t)null!==t[o]&&void 0!==t[o]&&""!==t[o]||delete t[o];delete t.children;const n=e.children||e._children;return n&&(t.children=[],n.forEach(function(e){t.children.push(R(e))})),t}var X=function(e){return JSON.stringify(R(e))};function Y(e,t,n,o=!1){const l=o||t.index===n;let a=[];return l&&a.push([e.x,e.y]),void 0!==t.children&&t.children.forEach(function(t){e.children.forEach(function(e){e.data.index===t.index&&(a=a.concat(Y(e,t,n,l)))})}),a}var q=Y,K={name:"D3Tree",props:{width:{type:String,default:"100%"},height:{type:String,default:"100vh"}},data:function(){return{selectedNode:void 0,selectedData:void 0}},watch:{selectedData:{deep:!0,handler:function(e){void 0!==e&&(B(this.selectedNode),this.$emit("showSetting"))}}},mounted:function(){b.baseSvg=v["l"]("#d3-tree-overlay"),b.svgGroup=b.baseSvg.append("g"),b.baseSvg.call(N).on("dblclick.zoom",null),H(this.onClick),this.load(b.root)},methods:{update:function(){B(b.root)},appendIntent:function(e){const t=b.root;$(t);const n=v["e"](e);n.parent=t,t.children.push(n),G(t),B(n)},onClick:function(e){this.selectedNode=e,this.selectedData=e&&e.data,this.$emit("onClick",e)},create:function(e){const t=b.root.children[0];$(t),void 0===t.children&&(t.children=[]);const n=v["e"](e);n.parent=t,t.children.push(n),G(t),B(n)},load:function(e){b.root=v["e"](e),b.root.x0=0,b.root.y0=b.baseSvg.node().clientWidth/2,B(b.root)},generate:function(){return X(b.root)},unclick:function(){J()},copyTree:function(e){this.create(JSON.parse(X(e)))},deleteNode:function(e){const t=e.parent;$(t);const n=t.children.indexOf(e);n>-1&&(t.children.splice(n,1),t.children.length||delete t.children),B(t)},mouseover:function(e,t){b.route=[q(b.root,e,t)],G(this.route)},mouseout:function(){b.route=[],G(this.route)}}},Q=K,Z=(n("6195"),Object(r["a"])(Q,m,g,!1,null,null,null));Z.options.__file="d3-tree.vue";var ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{id:"sentence-tree-overlay",width:e.width,height:e.height}})},ne=[],oe={baseSvg:void 0,svgGroup:void 0,data:{index:0,type:"root"},root:void 0,duration:750,margin:50};const le=v["o"]().scaleExtent([.5,4]).on("zoom",()=>{oe.svgGroup.attr("transform",v["d"].transform)});var ae=le;const re=v["h"]().x(function(e){return e.x}).y(function(e){return e.y});var ie=re,se=function(e,t){let n=oe.root;const o=oe.margin,l=oe.baseSvg.node().clientHeight-2*o,a=oe.baseSvg.node().clientWidth,r=oe.svgGroup.attr("transform",`translate(0, ${o})`),i=oe.duration,s=n.descendants(),c=n.links(),d=v["a"]().size([a,l]);n=d(n);const u=r.selectAll("g.node").data(s,function(e){return parseInt(e.data.index,10)}),p=u.enter().append("g").attr("transform",function(){return`translate(${e.x0}, ${e.y0})`});p.append("circle").attr("r",0),p.append("text").style("fill-opacity",0);let f=p.merge(u).attr("class",function(e){return`node ${e.data.type}`}).on("mouseover",t.mouseover).on("mouseout",t.mouseout);f.select("text").text(function(e){return e.data.text||e.data.name||e.data.type}).attr("dy",function(e){return e.children?-8:16}).attr("class","text"),f=f.transition().duration(i).attr("transform",function(e){return`translate(${e.x}, ${e.y})`}),f.select("circle").attr("r",5),f.select("text").style("fill-opacity",1);const h=u.exit().transition().duration(i).attr("transform",function(){return`translate(${e.x}, ${e.y})`}).remove();h.select("circle").attr("r",0),h.select("text").style("fill-opacity",0);const m=r.selectAll("path.link").data(c,function(e){return e.target.id}),g=m.enter().insert("path","g").attr("class","link").attr("d",function(){const t={x:e.x0,y:e.y0};return ie({source:t,target:t})});g.merge(m).transition().duration(i).attr("d",ie),m.exit().transition().duration(i).attr("d",function(){const t={x:e.x,y:e.y};return ie({source:t,target:t})}).remove()},ce={name:"SentenceTree",props:{width:{type:String,default:"100%"},height:{type:String,default:"100vh"}},mounted:function(){oe.baseSvg=v["l"]("#sentence-tree-overlay"),oe.svgGroup=oe.baseSvg.append("g"),oe.baseSvg.call(ae).on("dblclick.zoom",null),this.load(oe.data)},methods:{load:function(e){oe.data=e,oe.root=v["e"](oe.data),oe.root.x0=oe.baseSvg.node().clientWidth/2,oe.root.y0=-.8*oe.baseSvg.node().clientHeight,se(oe.root,this)},mouseover:function(e){this.$emit("mouseover",oe.data,e.data.index)},mouseout:function(){}}},de=ce,ue=(n("fce0"),Object(r["a"])(de,te,ne,!1,null,null,null));ue.options.__file="sentence-tree.vue";var pe=ue.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-tabs",{attrs:{type:"border-card"},on:{"tab-remove":e.unclick},model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[n("el-tab-pane",{attrs:{name:"menu"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-menu"}),e._v(" Menu")]),n("el-scrollbar",[n("control-menu",{staticClass:"tab-scroll",on:{toggleDebug:e.toggleDebug,createNode:e.createNode,upload:e.upload,uploadSentence:e.uploadSentence,download:e.download}})],1)],1),e.selectedNode?n("el-tab-pane",{attrs:{closable:"",name:"setting"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-setting"}),e._v(" Setting")]),n("el-scrollbar",[n("control-setting",{staticClass:"tab-scroll",attrs:{"selected-node":e.selectedNode},on:{changeIntent:e.changeIntent,appendIntent:e.appendIntent,copyTree:e.copyTree,deleteNode:e.deleteNode}})],1)],1):e._e()],1)},he=[],me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-collapse",{staticClass:"tab-scroll",attrs:{accordion:"",value:"download"}},[n("el-collapse-item",{attrs:{name:"create",title:"Create Node"}},[n("control-menu-create",{on:{create:e.createNode}})],1),n("el-collapse-item",{attrs:{name:"upload",title:"Upload JSON"}},[n("control-menu-upload",{on:{upload:e.upload}})],1),n("el-collapse-item",{attrs:{name:"download",title:"Download JSON"}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.download}},[e._v("Download Syntax Tree JSON"),n("i",{staticClass:"el-icon-download el-icon--right"})])],1)],1),n("el-collapse-item",{attrs:{name:"debug",title:"Debug Mode(DEMO)"}},[n("el-row",{attrs:{type:"flex",justify:"end"}},[n("el-col",{attrs:{span:23}},[n("el-form",{attrs:{"label-position":"top"}},[n("el-form-item",{attrs:{label:"Debug"}},[n("el-switch",{on:{change:e.toggleDebug},model:{value:e.debug,callback:function(t){e.debug=t},expression:"debug"}})],1),n("el-form-item",{attrs:{label:"Tree"}},[n("control-menu-upload",{on:{upload:e.upload}})],1),n("el-form-item",{attrs:{label:"Sentence"}},[n("control-menu-upload",{on:{upload:e.uploadSentence}})],1)],1)],1)],1)],1)],1)},ge=[],ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{attrs:{"label-width":"70px"}},[n("el-row",{attrs:{type:"flex",justify:"end"}},[n("el-col",{attrs:{span:23}},[n("el-collapse",{attrs:{value:["common","advanced","create"]}},[n("el-collapse-item",{attrs:{name:"common",title:"Common Settings"}},[n("el-form-item",{attrs:{label:"Type"}},[n("el-select",{attrs:{placeholder:"Type"},model:{value:e.newNode.type,callback:function(t){e.$set(e.newNode,"type",t)},expression:"newNode.type"}},[n("el-option",{attrs:{value:"order"}}),n("el-option",{attrs:{value:"pickone"}}),n("el-option",{attrs:{value:"exchangeable"}}),n("el-option",{attrs:{value:"content"}})],1)],1),n("el-form-item",{attrs:{label:"Name"}},[n("el-input",{attrs:{placeholder:"Name",clearable:""},model:{value:e.newNode.name,callback:function(t){e.$set(e.newNode,"name",t)},expression:"newNode.name"}})],1),n("el-form-item",{attrs:{label:"Dropout"}},[n("el-slider",{attrs:{min:0,max:1,step:.01,"show-input":""},model:{value:e.newNode.dropout,callback:function(t){e.$set(e.newNode,"dropout",t)},expression:"newNode.dropout"}})],1)],1),e.newNode.type?n("el-collapse-item",{attrs:{name:"advanced",title:"Advanced Settings"}},[e.newNode.type in{order:1,pickone:2,exchangeable:3}?n("el-form-item",{attrs:{label:"Weight"}},[n("el-input-number",{attrs:{precision:2,step:.01,min:0},model:{value:e.newNode.weight,callback:function(t){e.$set(e.newNode,"weight",t)},expression:"newNode.weight"}})],1):e._e(),"content"===e.newNode.type?n("el-row",[n("el-form-item",{attrs:{label:"FromFile"}},[n("el-switch",{model:{value:e.newNode.from_file,callback:function(t){e.$set(e.newNode,"from_file",t)},expression:"newNode.from_file"}})],1),e.newNode.from_file?n("el-form-item",{attrs:{label:"Filename"}},[n("el-input",{attrs:{placeholder:"Filename",clearable:""},model:{value:e.newNode.filename,callback:function(t){e.$set(e.newNode,"filename",t)},expression:"newNode.filename"}})],1):n("el-form-item",{attrs:{label:"Content"}},[n("tag-editor",{attrs:{tags:e.newNode.content}})],1),e.newNode.entity?n("el-form-item",{attrs:{label:"Entity"}},[n("el-input",{attrs:{placeholder:"Entity",clearable:""},model:{value:e.newNode.entity,callback:function(t){e.$set(e.newNode,"entity",t)},expression:"newNode.entity"}})],1):e._e(),n("el-form-item",{attrs:{label:"Cut"}},[n("el-slider",{attrs:{min:0,max:1,step:.01,"show-input":""},model:{value:e.newNode.cut,callback:function(t){e.$set(e.newNode,"cut",t)},expression:"newNode.cut"}})],1),e.newNode.cut&&e.newNode.cut>0?n("el-form-item",{attrs:{label:"WordCut"}},[n("el-slider",{attrs:{min:0,max:1,step:.01,"show-input":""},model:{value:e.newNode.word_cut,callback:function(t){e.$set(e.newNode,"word_cut",t)},expression:"newNode.word_cut"}})],1):e._e()],1):e._e()],1):e._e(),e.newNode.type?n("el-collapse-item",{attrs:{name:"create",title:"Create Node"}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-button",{attrs:{type:"success"},on:{click:e.create}},[e._v("Create"),n("i",{staticClass:"el-icon-success el-icon--right"})])],1)],1):e._e()],1)],1)],1)],1)},be=[],ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._l(e.tags,function(t){return n("el-tag",{key:t,attrs:{"disable-transitions":!1,closable:""},on:{close:function(n){e.handleClose(t)}}},[e._v("\n    "+e._s(t)+"\n  ")])}),e.inputVisible?n("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleInputConfirm(t):null}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ New Tag")])],2)},Ne=[],_e={name:"TagEditor",props:{tags:{type:Array,default:[]}},data:function(){return{inputVisible:!1,inputValue:""}},methods:{handleClose:function(e){this.tags.splice(this.tags.indexOf(e),1)},showInput:function(){this.inputVisible=!0,this.$nextTick(()=>{this.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(){const e=this.inputValue;e&&this.tags.push(e),this.inputVisible=!1,this.inputValue=""}}},xe=_e,we=(n("ab55"),Object(r["a"])(xe,ye,Ne,!1,null,"c3ba9664",null));we.options.__file="tag-editor.vue";var $e=we.exports,ke={name:"ControlMenuCreate",components:{TagEditor:$e},data:function(){return{newNode:{content:[]}}},methods:{create:function(){this.$emit("create",this.newNode),this.newNode={content:[]}}}},Ce=ke,Se=Object(r["a"])(Ce,ve,be,!1,null,null,null);Se.options.__file="control-menu-create.vue";var Te=Se.exports,Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-col",{attrs:{span:22}},[n("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{"on-change":e.load,"auto-upload":!1,drag:"",action:"#",multiple:""}},[n("i",{staticClass:"el-icon-upload"}),n("div",{staticClass:"el-upload__text"},[e._v("Drag and drop json files there, or "),n("em",[e._v("click")]),e._v(" to upload")])])],1)],1)},je=[],Oe={name:"ControlMenuUpload",methods:{load:function(e){const t=new FileReader;t.onload=(e=>{try{const t=JSON.parse(e.target.result);this.$emit("upload",t)}catch(e){return}}),t.readAsText(e.raw),this.$refs.upload.clearFiles()}}},Ee=Oe,De=Object(r["a"])(Ee,Ie,je,!1,null,null,null);De.options.__file="control-menu-upload.vue";var Le=De.exports,Ae={name:"ControlMenu",components:{ControlMenuCreate:Te,ControlMenuUpload:Le},data:function(){return{newNode:{},debug:!1}},methods:{toggleDebug:function(){this.$emit("toggleDebug",this.debug)},createNode:function(e){this.$emit("createNode",e)},download:function(){this.$emit("download")},upload:function(e){this.$emit("upload",e)},uploadSentence:function(e){this.$emit("uploadSentence",e)}}},Me=Ae,We=Object(r["a"])(Me,me,ge,!1,null,null,null);We.options.__file="control-menu.vue";var Pe=We.exports,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{attrs:{"label-width":"70px"}},["root"===e.selectedNode.data.type?n("control-setting-root",{attrs:{"selected-node":e.selectedNode},on:{changeIntent:e.changeIntent,appendIntent:e.appendIntent}}):e._e(),"holder"===e.selectedNode.data.type?n("control-setting-holder",{attrs:{"selected-node":e.selectedNode}}):e._e(),"intent"===e.selectedNode.data.type?n("control-setting-intent",{attrs:{"selected-node":e.selectedNode},on:{deleteNode:e.deleteNode}}):e._e(),e.selectedNode.data.type in{order:1,pickone:2,exchangeable:3}?n("control-setting-control",{attrs:{"selected-node":e.selectedNode},on:{copyTree:e.copyTree,deleteNode:e.deleteNode}}):e._e(),"content"===e.selectedNode.data.type?n("control-setting-content",{attrs:{"selected-node":e.selectedNode},on:{copyTree:e.copyTree,deleteNode:e.deleteNode}}):e._e()],1)},Fe=[],Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-collapse",{attrs:{value:["common","intent"]}},[n("el-collapse-item",{attrs:{name:"common",title:"Root Status"}},[n("el-form-item",{attrs:{label:"Type"}},[n("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.selectedNode.data.type))])],1),n("el-form-item",{attrs:{label:"Childrens"}},[n("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.childrenLength))])],1)],1),n("el-collapse-item",{attrs:{name:"intent",title:"Intent Settings"}},[n("el-form",{attrs:{"label-width":"70px"}},[n("el-row",{attrs:{type:"flex",justify:"end"}},[n("el-col",{attrs:{span:23}},[n("el-collapse",{attrs:{value:["list","append"]}},[n("el-collapse-item",{attrs:{name:"list",title:"Intent List"}},[n("el-table",{ref:"table",attrs:{data:(e.selectedNode.children||e.selectedNode._children).slice(1),stripe:!0,border:""}},[n("el-table-column",{attrs:{prop:"data.intent",label:"Intent"}}),n("el-table-column",{attrs:{prop:"data.weight",label:"Weight"}}),n("el-table-column",{attrs:{label:"Option",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{disabled:t.$index<=0,size:"mini",type:"success",icon:"el-icon-upload2",circle:""},on:{click:function(n){e.itemUp(t.$index)}}}),n("el-button",{attrs:{disabled:t.$index>=e.childrenLength-2,size:"mini",type:"success",icon:"el-icon-download",circle:""},on:{click:function(n){e.itemDown(t.$index)}}})]}}])})],1)],1),n("el-collapse-item",{attrs:{name:"append",title:"Append Intent"}},[n("el-form-item",{attrs:{label:"Intent"}},[n("el-input",{attrs:{placeholder:"Intent"},model:{value:e.intent.intent,callback:function(t){e.$set(e.intent,"intent",t)},expression:"intent.intent"}})],1),n("el-form-item",{attrs:{label:"Weight"}},[n("el-input-number",{attrs:{precision:2,step:.01,min:0},model:{value:e.intent.weight,callback:function(t){e.$set(e.intent,"weight",t)},expression:"intent.weight"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.appendIntent}},[e._v("Append"),n("i",{staticClass:"el-icon-circle-plus-outline el-icon--right"})])],1)],1)],1)],1)],1)],1)],1)],1)},Ve=[],He={name:"ControlSettingRoot",props:{selectedNode:{type:Object,default:void 0}},data:function(){return{intent:{type:"intent",weight:1}}},computed:{childrenLength:function(){return void 0===this.selectedNode.children&&void 0===this.selectedNode._children?0:(this.selectedNode.children||this.selectedNode._children).length}},methods:{itemUp:function(e){if(e>0){const t=this.selectedNode.children[e];this.$set(this.selectedNode.children,e,this.selectedNode.children[e+1]),this.$set(this.selectedNode.children,e+1,t),this.$emit("changeIntent")}},itemDown:function(e){e<this.childrenLength-2&&this.itemUp(e+1)},appendIntent:function(){this.$emit("appendIntent",this.intent),this.intent={type:"intent"}}}},Ue=He,Je=Object(r["a"])(Ue,Ge,Ve,!1,null,null,null);Je.options.__file="control-setting-root.vue";var Be=Je.exports,Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-collapse",{attrs:{value:"common"}},[n("el-collapse-item",{attrs:{name:"common",title:"Holder Status"}},[n("el-form-item",{attrs:{label:"Type"}},[n("el-tag",{attrs:{type:"warning"}},[e._v(e._s(e.selectedNode.data.type))])],1),n("el-form-item",{attrs:{label:"Childrens"}},[n("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.childrenLength))])],1)],1)],1)},Xe=[],Ye={name:"ControlSettingHolder",props:{selectedNode:{type:Object,default:void 0}},computed:{childrenLength:function(){return void 0===this.selectedNode.children&&void 0===this.selectedNode._children?0:(this.selectedNode.children||this.selectedNode._children).length}}},qe=Ye,Ke=Object(r["a"])(qe,Re,Xe,!1,null,null,null);Ke.options.__file="control-setting-holder.vue";var Qe=Ke.exports,Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-collapse",{attrs:{value:"common"}},[n("el-collapse-item",{attrs:{name:"common",title:"Common Settings"}},[n("el-form-item",{attrs:{label:"Type"}},[n("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.selectedNode.data.type))])],1),n("el-form-item",{attrs:{label:"Childrens"}},[n("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.childrenLength))])],1),n("el-form-item",{attrs:{label:"Intent"}},[n("el-input",{attrs:{placeholder:"Intent",clearable:""},model:{value:e.selectedNode.data.intent,callback:function(t){e.$set(e.selectedNode.data,"intent",t)},expression:"selectedNode.data.intent"}})],1),n("el-form-item",{attrs:{label:"Weight"}},[n("el-input-number",{attrs:{precision:2,step:.01,min:0},model:{value:e.selectedNode.data.weight,callback:function(t){e.$set(e.selectedNode.data,"weight",t)},expression:"selectedNode.data.weight"}})],1)],1),n("el-collapse-item",{attrs:{name:"delete",title:"Delete Intent"}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-button",{attrs:{type:"danger"},on:{click:e.deleteNode}},[e._v("Delete"),n("i",{staticClass:"el-icon-warning el-icon--right"})])],1)],1)],1)},et=[],tt={name:"ControlSettingIntent",props:{selectedNode:{type:Object,default:void 0}},computed:{childrenLength:function(){return void 0===this.selectedNode.children&&void 0===this.selectedNode._children?0:(this.selectedNode.children||this.selectedNode._children).length}},methods:{deleteNode:function(){this.$emit("deleteNode")}}},nt=tt,ot=Object(r["a"])(nt,Ze,et,!1,null,null,null);ot.options.__file="control-setting-intent.vue";var lt=ot.exports,at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-collapse",{attrs:{value:["common"]}},[n("el-collapse-item",{attrs:{name:"common",title:"Common Settings"}},[n("el-form-item",{attrs:{label:"Type"}},[n("el-radio-group",{model:{value:e.selectedNode.data.type,callback:function(t){e.$set(e.selectedNode.data,"type",t)},expression:"selectedNode.data.type"}},[n("el-radio-button",{staticClass:"order",attrs:{label:"order"}}),n("el-radio-button",{staticClass:"pickone",attrs:{label:"pickone"}}),n("el-radio-button",{staticClass:"exchangeable",attrs:{label:"exchangeable"}})],1)],1),n("el-form-item",{attrs:{label:"Childrens"}},[n("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.childrenLength))])],1),n("el-form-item",{attrs:{label:"Name"}},[n("el-input",{attrs:{placeholder:"Name",clearable:""},model:{value:e.selectedNode.data.name,callback:function(t){e.$set(e.selectedNode.data,"name",t)},expression:"selectedNode.data.name"}})],1),n("el-form-item",{attrs:{label:"Dropout"}},[n("el-slider",{attrs:{min:0,max:1,step:.01,"show-input":""},model:{value:e.selectedNode.data.dropout,callback:function(t){e.$set(e.selectedNode.data,"dropout",t)},expression:"selectedNode.data.dropout"}})],1),n("el-form-item",{attrs:{label:"Weight"}},[n("el-input-number",{attrs:{precision:2,step:.01,min:0},model:{value:e.selectedNode.data.weight,callback:function(t){e.$set(e.selectedNode.data,"weight",t)},expression:"selectedNode.data.weight"}})],1)],1),n("el-collapse-item",{attrs:{name:"copy",title:"Copy Tree"}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-button",{attrs:{type:"warning"},on:{click:e.copyTree}},[e._v("Copy"),n("i",{staticClass:"el-icon-info el-icon--right"})])],1)],1),n("el-collapse-item",{attrs:{name:"delete",title:"Delete Node"}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-button",{attrs:{type:"danger"},on:{click:e.deleteNode}},[e._v("Delete"),n("i",{staticClass:"el-icon-warning el-icon--right"})])],1)],1)],1)},rt=[],it={name:"ControlSettingControl",props:{selectedNode:{type:Object,default:void 0}},computed:{childrenLength:function(){return void 0===this.selectedNode.children&&void 0===this.selectedNode._children?0:(this.selectedNode.children||this.selectedNode._children).length}},methods:{copyTree:function(){this.$emit("copyTree")},deleteNode:function(){this.$emit("deleteNode")}}},st=it,ct=(n("495e"),Object(r["a"])(st,at,rt,!1,null,null,null));ct.options.__file="control-setting-control.vue";var dt=ct.exports,ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-collapse",{attrs:{value:["common","content"]}},[n("el-collapse-item",{attrs:{name:"common",title:"Common Settings"}},[n("el-form-item",{attrs:{label:"Type"}},[n("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.selectedNode.data.type))])],1),n("el-form-item",{attrs:{label:"Childrens"}},[n("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.childrenLength))])],1),n("el-form-item",{attrs:{label:"Name"}},[n("el-input",{attrs:{placeholder:"Name",clearable:""},model:{value:e.selectedNode.data.name,callback:function(t){e.$set(e.selectedNode.data,"name",t)},expression:"selectedNode.data.name"}})],1),n("el-form-item",{attrs:{label:"Dropout"}},[n("el-slider",{attrs:{min:0,max:1,step:.01,"show-input":""},model:{value:e.selectedNode.data.dropout,callback:function(t){e.$set(e.selectedNode.data,"dropout",t)},expression:"selectedNode.data.dropout"}})],1),n("el-form-item",{attrs:{label:"Weight"}},[n("el-input-number",{attrs:{precision:2,step:.01,min:0},model:{value:e.selectedNode.data.weight,callback:function(t){e.$set(e.selectedNode.data,"weight",t)},expression:"selectedNode.data.weight"}})],1)],1),n("el-collapse-item",{attrs:{name:"content",title:"Content Settings"}},[n("el-form-item",{attrs:{label:"FromFile"}},[n("el-switch",{model:{value:e.selectedNode.data.from_file,callback:function(t){e.$set(e.selectedNode.data,"from_file",t)},expression:"selectedNode.data.from_file"}})],1),e.selectedNode.data.from_file?n("el-form-item",{attrs:{label:"Filename"}},[n("el-input",{attrs:{placeholder:"Filename",clearable:""},model:{value:e.selectedNode.data.filename,callback:function(t){e.$set(e.selectedNode.data,"filename",t)},expression:"selectedNode.data.filename"}})],1):n("el-form-item",{attrs:{label:"Content"}},[n("tag-editor",{attrs:{tags:e.selectedNode.data.content}})],1),e.selectedNode.data.entity?n("el-form-item",{attrs:{label:"Entity"}},[n("el-input",{attrs:{placeholder:"Entity",clearable:""},model:{value:e.selectedNode.data.entity,callback:function(t){e.$set(e.selectedNode.data,"entity",t)},expression:"selectedNode.data.entity"}})],1):e._e(),n("el-form-item",{attrs:{label:"Cut"}},[n("el-slider",{attrs:{min:0,max:1,step:.01,"show-input":""},model:{value:e.selectedNode.data.cut,callback:function(t){e.$set(e.selectedNode.data,"cut",t)},expression:"selectedNode.data.cut"}})],1),e.selectedNode.data.cut&&e.selectedNode.data.cut>0?n("el-form-item",{attrs:{label:"WordCut"}},[n("el-slider",{attrs:{min:0,max:1,step:.01,"show-input":""},model:{value:e.selectedNode.data.word_cut,callback:function(t){e.$set(e.selectedNode.data,"word_cut",t)},expression:"selectedNode.data.word_cut"}})],1):e._e()],1),n("el-collapse-item",{attrs:{name:"copy",title:"Copy Tree"}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-button",{attrs:{type:"warning"},on:{click:e.copyTree}},[e._v("Copy"),n("i",{staticClass:"el-icon-info el-icon--right"})])],1)],1),n("el-collapse-item",{attrs:{name:"delete",title:"Delete Node"}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-button",{attrs:{type:"danger"},on:{click:e.deleteNode}},[e._v("Delete"),n("i",{staticClass:"el-icon-warning el-icon--right"})])],1)],1)],1)},pt=[],ft={name:"ControlSettingContent",components:{TagEditor:$e},props:{selectedNode:{type:Object,default:void 0}},computed:{childrenLength:function(){return void 0===this.selectedNode.children&&void 0===this.selectedNode._children?0:(this.selectedNode.children||this.selectedNode._children).length}},methods:{copyTree:function(){this.$emit("copyTree")},deleteNode:function(){this.$emit("deleteNode")}}},ht=ft,mt=Object(r["a"])(ht,ut,pt,!1,null,null,null);mt.options.__file="control-setting-content.vue";var gt=mt.exports,vt={name:"ControlSetting",components:{ControlSettingRoot:Be,ControlSettingHolder:Qe,ControlSettingIntent:lt,ControlSettingControl:dt,ControlSettingContent:gt},props:{selectedNode:{type:Object,default:void 0}},methods:{changeIntent:function(){this.$emit("changeIntent")},appendIntent:function(e){this.$emit("appendIntent",e)},copyTree:function(){this.$emit("copyTree")},deleteNode:function(){this.$emit("deleteNode")}}},bt=vt,yt=Object(r["a"])(bt,ze,Fe,!1,null,null,null);yt.options.__file="control-setting.vue";var Nt=yt.exports,_t={name:"ControlPanel",components:{ControlMenu:Pe,ControlSetting:Nt},props:{selectedNode:{type:Object,default:void 0},debug:{type:Boolean,default:!1}},data:function(){return{tabs:"menu"}},methods:{toggleDebug:function(e){this.$emit("toggleDebug",e)},changeIntent:function(){this.$emit("changeIntent")},appendIntent:function(e){this.$emit("appendIntent",e)},showSetting:function(){this.tabs="setting"},unclick:function(){this.tabs="menu",this.$emit("unclick")},createNode:function(e){this.$emit("createNode",e)},upload:function(e){this.$emit("upload",e)},uploadSentence:function(e){this.$emit("uploadSentence",e)},download:function(){this.$emit("download")},copyTree:function(){this.$emit("copyTree")},deleteNode:function(){this.$emit("deleteNode")}}},xt=_t,wt=(n("3e8b"),Object(r["a"])(xt,fe,he,!1,null,null,null));wt.options.__file="control-panel.vue";var $t=wt.exports,kt={name:"InteractiveSyntaxTree",components:{D3Tree:ee,SentenceTree:pe,ControlPanel:$t},data:function(){return{selectedNode:void 0,height:"100vh",debug:!1}},methods:{toggleDebug:function(e){this.debug=e,this.height=e?"70vh":"100vh"},changeIntent:function(){this.$refs.tree.update()},appendIntent:function(e){this.$refs.tree.appendIntent(e)},showSetting:function(){this.$refs.control.showSetting()},onClick:function(e){this.selectedNode=e},unclick:function(){this.$refs.tree.unclick()},createNode:function(e){this.$refs.tree.create(e)},upload:function(e){this.$refs.tree.load(e)},uploadSentence:function(e){this.$refs.sentence.load(e)},download:function(){const e=this.$refs.tree.generate(),t=document.createElement("a");t.download="syntaxTree.json",t.href=URL.createObjectURL(new Blob([e])),document.body.appendChild(t),t.click(),document.body.removeChild(t)},copyTree:function(){this.$refs.tree.copyTree(this.selectedNode)},deleteNode:function(){this.$refs.tree.deleteNode(this.selectedNode)},mouseover:function(e,t){this.$refs.tree.mouseover(e,t)},mouseout:function(){this.$refs.tree.mouseout()}}},Ct=kt,St=(n("efdc"),Object(r["a"])(Ct,f,h,!1,null,"5b8b82bb",null));St.options.__file="interactive-syntax-tree.vue";var Tt=St.exports,It={name:"Home",components:{InteractiveSyntaxTree:Tt}},jt=It,Ot=Object(r["a"])(jt,u,p,!1,null,null,null);Ot.options.__file="Home.vue";var Et=Ot.exports;o["default"].use(d["a"]);var Dt=new d["a"]({routes:[{path:"/",name:"home",component:Et}]}),Lt=n("5c96"),At=n.n(Lt);n("0fae");o["default"].use(At.a),o["default"].config.productionTip=!1,new o["default"]({router:Dt,render:e=>e(c)}).$mount("#app")},6195:function(e,t,n){"use strict";var o=n("5022"),l=n.n(o);l.a},"724f":function(e,t,n){},"7db0":function(e,t,n){},ab55:function(e,t,n){"use strict";var o=n("5459"),l=n.n(o);l.a},d3b9:function(e,t,n){},efdc:function(e,t,n){"use strict";var o=n("55ab"),l=n.n(o);l.a},fce0:function(e,t,n){"use strict";var o=n("724f"),l=n.n(o);l.a}});
//# sourceMappingURL=app.550dad24.js.map